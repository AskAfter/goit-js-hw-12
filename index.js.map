{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["// We need to export function that create http search on backend\nexport function fetchPhotos(searchParams) {\n  // function name with parameters\n  const url = `https://pixabay.com/api/?${searchParams}`; //url from library plus const from library we need (in main)\n\n  return fetch(url).then(response => {\n    //return fetch (promise) with result\n    if (!response.ok) {\n      //if result not good: meant respons.ok is false we change to true and it is mean error and return error\n      throw new Error(response.status); //throw new... sending this to .catch in main.js\n    }\n    return response.json(); // everything great and we change JSON into JS and return\n  });\n}\n","//import library file plus file goIT tell us\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nlet lightbox = null; //this variable need in work with library\n\n//creating list with photos\nexport function renderPhotos(photos) {\n  const photoList = document.querySelector('.photo-list'); //declaration ul tag\n  photoList.innerHTML = ''; //clearing window from previous photos\n\n  //creating markup with photos\n  const markup = photos\n    .map(photo => {\n      //after created list with markup for photos (just copied from lms: there is the same example)\n      return `\n      <li class=\"photo-item\">\n        <a href=\"${photo.largeImageURL}\" class=\"gallery-item\">\n          <img src=\"${photo.webformatURL}\" alt=\"${photo.tags}\" width=\"360\" height=\"152\" />\n        </a>\n        <div class=\"info\">\n          <div class=\"info-item\">\n            <p>Likes</p>\n            <p>${photo.likes}</p>\n          </div>\n          <div class=\"info-item\">\n            <p>Views</p>\n            <p>${photo.views}</p>\n          </div>\n          <div class=\"info-item\">\n            <p>Comments</p>\n            <p>${photo.comments}</p>\n          </div>\n          <div class=\"info-item\">\n            <p>Downloads</p>\n            <p>${photo.downloads}</p>\n          </div>\n        </div>\n      </li>`;\n    })\n    .join('');\n  //adding markup to DOM\n  photoList.insertAdjacentHTML('beforeend', markup);\n\n  //I don't understand this to the end, libraries killing me:(\n  if (!lightbox) {\n    lightbox = new SimpleLightbox('.gallery-item', {\n      captionsData: 'alt',\n      captionDelay: 250,\n    });\n  } else {\n    lightbox.refresh();\n  }\n}\n","import { fetchPhotos } from './js/pixabay-api'; //I can use function from first js file\nimport { renderPhotos } from './js/render-functions'; // the same from second file\n//I have this library but it is work\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst fetchSubmit = document.querySelector('.form');\nconst searchInput = document.querySelector('.search-input');\nconst loader = document.querySelector('.loader');\n\nfetchSubmit.addEventListener('submit', event => {\n  event.preventDefault();\n  const searchRequest = searchInput.value;\n  const photoList = document.querySelector('.photo-list'); //I have no idea why with variable don't work in second js file\n  loader.style.display = 'block'; //just asked gpt to help with this library\n\n  //creating our object with parameters we need in research\n  const searchParams = new URLSearchParams({\n    key: '46706614-1dc051161d475bf769026fdc5',\n    q: `${searchRequest}`,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n    per_page: 15,\n  });\n\n  fetchPhotos(searchParams) //call a function from first js that doing https job and bring back converted from JSON into js files\n    .then(photos => {\n      loader.style.display = 'none';\n      searchInput.value = '';\n      if (photos.hits.length === 0) {\n        photoList.innerHTML = '';\n        iziToast.error({\n          title: 'Error',\n          message:\n            'Sorry, no images found for your search query. Please try again!',\n        });\n      } else {\n        renderPhotos(photos.hits); //if everything good this will do photo in window\n      }\n    })\n    //I don't know for what I need .catch here if I have almost the same in .then\n    .catch(error => {\n      loader.style.display = 'none';\n      iziToast.error({\n        title: 'Error',\n        message: `Something went wrong. Error: ${error.message}`,\n      });\n    });\n});\n\n//took this code from library\niziToast.settings({\n  timeout: 10000,\n  position: 'topRight',\n  resetOnHover: true,\n  icon: 'material-icons',\n  transitionIn: 'flipInX',\n  transitionOut: 'flipOutX',\n  onOpening: function () {\n    // console.log('callback abriu!');\n  },\n  onClosing: function () {\n    // console.log('callback fechou!');\n  },\n});\n"],"names":["fetchPhotos","searchParams","url","response","lightbox","renderPhotos","photos","photoList","markup","photo","SimpleLightbox","fetchSubmit","searchInput","loader","event","searchRequest","iziToast","error"],"mappings":"6vBACO,SAASA,EAAYC,EAAc,CAExC,MAAMC,EAAM,4BAA4BD,CAAY,GAEpD,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAY,CAEjC,GAAI,CAACA,EAAS,GAEZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAG,CACH,CCTA,IAAIC,EAAW,KAGR,SAASC,EAAaC,EAAQ,CACnC,MAAMC,EAAY,SAAS,cAAc,aAAa,EACtDA,EAAU,UAAY,GAGtB,MAAMC,EAASF,EACZ,IAAIG,GAEI;AAAA;AAAA,mBAEMA,EAAM,aAAa;AAAA,sBAChBA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,iBAK3CA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,iBAIXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,iBAIXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,iBAIdA,EAAM,SAAS;AAAA;AAAA;AAAA,YAI3B,EACA,KAAK,EAAE,EAEVF,EAAU,mBAAmB,YAAaC,CAAM,EAG3CJ,EAMHA,EAAS,QAAO,EALhBA,EAAW,IAAIM,EAAe,gBAAiB,CAC7C,aAAc,MACd,aAAc,GACpB,CAAK,CAIL,CC/CA,MAAMC,EAAc,SAAS,cAAc,OAAO,EAC5CC,EAAc,SAAS,cAAc,eAAe,EACpDC,EAAS,SAAS,cAAc,SAAS,EAE/CF,EAAY,iBAAiB,SAAUG,GAAS,CAC9CA,EAAM,eAAc,EACpB,MAAMC,EAAgBH,EAAY,MAC5BL,EAAY,SAAS,cAAc,aAAa,EACtDM,EAAO,MAAM,QAAU,QAGvB,MAAMZ,EAAe,IAAI,gBAAgB,CACvC,IAAK,qCACL,EAAG,GAAGc,CAAa,GACnB,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAU,EACd,CAAG,EAEDf,EAAYC,CAAY,EACrB,KAAKK,GAAU,CACdO,EAAO,MAAM,QAAU,OACvBD,EAAY,MAAQ,GAChBN,EAAO,KAAK,SAAW,GACzBC,EAAU,UAAY,GACtBS,EAAS,MAAM,CACb,MAAO,QACP,QACE,iEACZ,CAAS,GAEDX,EAAaC,EAAO,IAAI,CAEhC,CAAK,EAEA,MAAMW,GAAS,CACdJ,EAAO,MAAM,QAAU,OACvBG,EAAS,MAAM,CACb,MAAO,QACP,QAAS,gCAAgCC,EAAM,OAAO,EAC9D,CAAO,CACP,CAAK,CACL,CAAC,EAGDD,EAAS,SAAS,CAChB,QAAS,IACT,SAAU,WACV,aAAc,GACd,KAAM,iBACN,aAAc,UACd,cAAe,WACf,UAAW,UAAY,CAEtB,EACD,UAAW,UAAY,CAEtB,CACH,CAAC"}